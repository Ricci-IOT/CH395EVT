# CH395 SDK 目录结构与示例工程说明

本文档用于说明 CH395 官方 EVT 示例工程目录结构及各示例用途，适用于
裸机 / RTOS（如 FreeRTOS、RT-Thread）环境下的二次开发参考。

---

## 一、总体目录结构

- `EVT/`  
  示例工程与驱动源码  
- `PUB/`  
  官方硬件资料（评估板原理图）  
- `DEBUG395/`  
  Windows 下位机调试工具  

---

## 二、EVT 目录说明

### 2.1 EXAM —— 示例工程目录

`EXAM` 目录包含 CH395 各类应用示例，按**基础应用**和**高级应用**划分。

---

### 2.1.1 基础应用示例

适合初学 CH395、验证通信流程、移植驱动时使用。

#### EXAM0_Integrated_Example
- 功能说明：
  - 综合示例
  - 4 个 Socket 同时工作
- Socket 工作模式：
  - TCP Client
  - TCP Server
  - UDP
  - IP RAW
- 适用场景：
  - 熟悉 CH395 Socket 资源
  - 多协议并行工作验证

---

#### EXAM1_MACRAW
- 功能说明：
  - Socket0 工作在 MACRAW 模式
- 适用场景：
  - 二层以太网帧处理
  - 自定义协议栈
  - 抓包 / 特殊网络协议分析

---

#### EXAM2_UDP_Server
- 功能说明：
  - Socket0 工作在 UDP 模式
  - 演示 UDP 广播功能
- 适用场景：
  - 设备发现
  - 局域网广播通信

---

#### EXAM3_IPRAW
- 功能说明：
  - Socket0 工作在 IP RAW 模式
- 适用场景：
  - 自定义 IP 层协议
  - ICMP / 特殊报文处理

---

#### EXAM4_TCP_Client
- 功能说明：
  - Socket0 工作在 TCP 客户端模式
- 适用场景：
  - 设备主动连接服务器
  - 数据上报

---

#### EXAM5_TCP_Server
- 功能说明：
  - TCP 服务器模式
  - 使用 8 个 Socket
  - 支持多客户端连接
- 适用场景：
  - 局域网设备服务器
  - 多连接并发测试

---

#### EXAM6_DHCP
- 功能说明：
  - DHCP 客户端示例
- 适用场景：
  - 自动获取 IP 地址
  - 验证网络初始化流程

---

#### EXAM13_EEPROM_GPIO
- 功能说明：
  - GPIO 操作示例
  - EEPROM 读写示例
- 适用场景：
  - 硬件控制
  - 参数掉电保存

---

#### EXAM14_UDP_Multicast
- 功能说明：
  - UDP 组播示例
- 适用场景：
  - 多设备同步通信
  - 组播协议验证

---

### 2.1.2 高级应用示例

适合完整产品级功能参考，代码体量较大。

---

#### EXAM7_Web
- 功能说明：
  - CH395 Web 服务器示例
- 功能特点：
  - 浏览器访问
  - 远程控制
  - 远程监测
- 适用场景：
  - Web 管理页面
  - 嵌入式 HTTP 服务

---

#### EXAM8_DNS
- 功能说明：
  - DNS 域名解析示例
- 适用场景：
  - 通过域名访问服务器
  - 云端通信

---

#### EXAM9_Mail
- 功能说明：
  - 邮件发送 / 接收示例
- 适用场景：
  - 报警通知
  - 日志邮件推送

---

#### EXAM10_FTPServer
- 功能说明：
  - FTP 服务器示例
- 支持功能：
  - 文件读取
  - 文件写入
  - 文件删除
  - 文件创建
- 适用场景：
  - 设备文件管理
  - 远程维护

---

#### EXAM11_FTPClient
- 功能说明：
  - FTP 客户端示例
- 支持功能：
  - 登录服务器
  - 搜索文件
  - 文件上传 / 下载
- 适用场景：
  - 远程升级
  - 文件同步

---

#### EXAM12_ICMP_Ping
- 功能说明：
  - ICMP Ping 示例
- 功能特点：
  - 主动发送 Ping
  - 被动回复 Ping
- 适用场景：
  - 网络连通性测试

---

#### EXAM15_CFG
- 功能说明：
  - 搜索与配置示例
- 配合工具：
  - `CH395CFG.exe`
- 适用场景：
  - 设备发现
  - 网络参数配置

---

#### EXAM16_FreeRTOS
- 功能说明：
  - CH395 + FreeRTOS 示例
- 适用场景：
  - RTOS 环境移植
  - 多任务网络应用

---

## 三、EVT/PUB —— 驱动公共层

该目录为 **所有示例共享的驱动与接口层**，移植时重点关注。

| 文件名 | 说明 |
|------|------|
| CH395.H | CH395 结构体定义 |
| CH395INC.H | CH395 常量、宏定义 |
| CH395CMD.C | 命令接口层实现 |
| CH395CMD.H | 命令接口层头文件 |
| CH395PARA_HW.C | 8 位并口硬件接口 |
| CH395SPI_HW.C | SPI 硬件接口 |
| CH395UART_HW.C | UART 硬件接口 |

> **实际移植建议：**
> - 一般只保留 **SPI 或 UART** 其中一种
> - 并结合你的 MCU（如 APM32F103 + RT-Thread）重写底层读写函数

---

## 四、EVT/SRC —— MCU 工程相关

| 目录 | 说明 |
|----|----|
| CORE | 启动文件、核心代码 |
| DEBUG | 调试相关代码 |
| FWLIB | MCU 外设库 |

---

## 五、PUB —— 硬件资料

| 文件 | 说明 |
|----|----|
| CH395A-EVT-R0.PDF | CH395A 评估板原理图 |
| CH395F-EVT-R0.PDF | CH395F 评估板原理图 |
| CH395P-EVT-R0.PDF | CH395P 评估板原理图 |

---

## 六、DEBUG395 —— Windows 调试工具

| 文件 | 说明 |
|----|----|
| DEBUG395.EXE | Windows 下位机调试软件 |
| DEBUG395.PDF | 调试软件使用说明 |

---

## 七、使用建议（经验总结）

- **驱动移植起点**：  
  `EXAM4_TCP_Client` 或 `EXAM6_DHCP`
- **RTOS 集成参考**：  
  `EXAM16_FreeRTOS`
- **不推荐直接移植**：  
  FTP / Mail / Web（代码复杂，建议拆功能）

---

